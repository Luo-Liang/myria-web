{% extends "base.html" %}

{% block datasets_active %} class="active"{% endblock %}

{% block content %}
            <form class="form-horizontal" role="form">
                <div class="form-group">
		    <label for="backend-menu" class="col-sm-2 control-label"> Backend Datasets </label>
		    <div class = "col-sm-9">
		      <select class="form-control backend-menu">
			<option value="grappa"> Radish </option>
			<option value="myria" selected> Myria </option>
                        <option value="clang"> C </option>
                      </select>
                    </div>
                </div>
            </form>

	<div class="panel panel-primary">
		<div class="panel-heading">
			<h3 class="panel-title">Datasets</h3>
		</div>
		<table class="table table-condensed">
		<thead>
		  <tr>
		    <th>Relation name</th>
		    <th>Creating query</th>
		    <th>Create time</th>
		    <th data-sorter="false">Download</th>
		  </tr>
		</thead>
		<tbody id="datatable">
		</tbody>
		</table>
	</div>
{% endblock %}

{% block footer %}

<script type="text/javascript" src="js/dataset.js"></script>
<script type="text/javascript">
    {% autoescape false %}
        var connection = '{{ connection }}';
    {% endautoescape %}
</script>
<script type="text/javascript" src="js/jquery.tablesorter.min.js"></script>
<script type="text/javascript">
  $(".table").tablesorter({
    textExtraction: {
            2: function (node, table, cellIndex) {
                return new Date($(node).find("abbr").attr("title"));
            }
        },
        headers: {
            2: {sorter: "isoDate"}
        },
        headerTemplate: '{content} <small><span></span>'
    });

    var resetSortIcons = function() {
        $("th[aria-sort=ascending][aria-disabled=false] span").attr('class', "glyphicon glyphicon-sort-by-attributes");
        $("th[aria-sort=descending][aria-disabled=false] span").attr('class', "glyphicon glyphicon-sort-by-attributes-alt");
        $("th[aria-sort=none][aria-disabled=false] span").attr('class', "glyphicon glyphicon-sort");
    };
    $(".table").bind("sortEnd", resetSortIcons);
    resetSortIcons();
</script>
{% endblock %}
